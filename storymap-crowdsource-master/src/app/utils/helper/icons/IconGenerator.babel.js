import $ from 'jquery';
import Logger from 'babel/utils/logging/Logger';

const SVG_WRAPPER_ID = 'icon-symbols';
const _logger = new Logger({source: 'IconGenerator'});

const _onError = function onError(err) {
  _logger.logMessage({
    type: 'error',
    error: err
  });
};

const _icons = {
  'arrow-down-open': {
    id: 'icon-arrow-down-open',
    html: '<svg class="icon icon-arrow-down-open"><use xlink:href="#icon-arrow-down-open"></use></svg>',
    viewBox: '0 0 20 20',
    path: 'M17.418 6.109c0.272-0.268 0.709-0.268 0.979 0s0.271 0.701 0 0.969l-7.908 7.83c-0.27 0.268-0.707 0.268-0.979 0l-7.908-7.83c-0.27-0.268-0.27-0.701 0-0.969s0.709-0.268 0.979 0l7.419 7.141 7.418-7.141z'
  },
  'arrow-up-open': {
    id: 'icon-arrow-up-open',
    html: '<svg class="icon icon-arrow-up-open"><use xlink:href="#icon-arrow-up-open"></use></svg>',
    viewBox: '0 0 20 20',
    path: 'M2.582 13.891c-0.272 0.268-0.709 0.268-0.979 0s-0.271-0.701 0-0.969l7.908-7.83c0.27-0.268 0.707-0.268 0.979 0l7.908 7.83c0.27 0.268 0.27 0.701 0 0.969s-0.709 0.268-0.978 0l-7.42-7.141-7.418 7.141z'
  },
  'circled-check': {
    id: 'icon-circled-check',
    html: '<svg class="icon icon-circled-check"><use xlink:href="#icon-circled-check"></use></svg>',
    viewBox: '0 0 24 24',
    path: 'M9.984 17.016l9-9-1.406-1.453-7.594 7.594-3.563-3.563-1.406 1.406zM12 2.016q4.125 0 7.055 2.93t2.93 7.055-2.93 7.055-7.055 2.93-7.055-2.93-2.93-7.055 2.93-7.055 7.055-2.93z'
  },
  'facebook': {
    id: 'icon-facebook',
    html: '<svg class="icon icon-facebook"><use xlink:href="#icon-facebook"></use></svg>',
    viewBox: '0 0 24 24',
    path: 'M13 10h3v3h-3v7h-3v-7h-3v-3h3v-1.255c0-1.189 0.374-2.691 1.118-3.512 0.744-0.823 1.673-1.233 2.786-1.233h2.096v3h-2.1c-0.498 0-0.9 0.402-0.9 0.899v2.101z'
  },
  'gallery': {
    id: 'icon-gallery',
    html: '<svg class="icon icon-gallery"><use xlink:href="#icon-gallery"></use></svg>',
    viewBox: '0 0 20 20',
    path: 'M8 4h-3c-0.553 0-1 0.447-1 1v3c0 0.552 0.447 1 1 1h3c0.553 0 1-0.448 1-1v-3c0-0.552-0.447-1-1-1zM15 4h-3c-0.553 0-1 0.447-1 1v3c0 0.552 0.447 1 1 1h3c0.553 0 1-0.448 1-1v-3c0-0.552-0.447-1-1-1zM8 11h-3c-0.553 0-1 0.447-1 1v3c0 0.552 0.447 1 1 1h3c0.553 0 1-0.448 1-1v-3c0-0.552-0.447-1-1-1zM15 11h-3c-0.553 0-1 0.447-1 1v3c0 0.552 0.447 1 1 1h3c0.553 0 1-0.448 1-1v-3c0-0.552-0.447-1-1-1z'
  },
  'help': {
    id: 'icon-help',
    html: '<svg class="icon icon-help"><use xlink:href="#icon-help"></use></svg>',
    viewBox: '0 0 24 24',
    path: 'M15.047 11.25q0.938-0.938 0.938-2.25 0-1.641-1.172-2.813t-2.813-1.172-2.813 1.172-1.172 2.813h1.969q0-0.797 0.609-1.406t1.406-0.609 1.406 0.609 0.609 1.406-0.609 1.406l-1.219 1.266q-1.172 1.266-1.172 2.813v0.516h1.969q0-1.547 1.172-2.813zM12.984 18.984v-1.969h-1.969v1.969h1.969zM12 2.016q4.125 0 7.055 2.93t2.93 7.055-2.93 7.055-7.055 2.93-7.055-2.93-2.93-7.055 2.93-7.055 7.055-2.93z'
  },
  'home': {
    id: 'icon-home',
    html: '<svg class="icon icon-home"><use xlink:href="#icon-home"></use></svg>',
    viewBox: '0 0 24 24',
    path: 'M9.984 20.016h-4.969v-8.016h-3l9.984-9 9.984 9h-3v8.016h-4.969v-6h-4.031v6z'
  },
  'link': {
    id: 'icon-link',
    html: '<svg class="icon icon-link"><use xlink:href="#icon-link"></use></svg>',
    viewBox: '0 0 20 20',
    path: 'M7.859 14.691l-0.81 0.805c-0.701 0.695-1.843 0.695-2.545 0-0.336-0.334-0.521-0.779-0.521-1.252s0.186-0.916 0.521-1.252l2.98-2.955c0.617-0.613 1.779-1.515 2.626-0.675 0.389 0.386 1.016 0.384 1.403-0.005 0.385-0.389 0.383-1.017-0.006-1.402-1.438-1.428-3.566-1.164-5.419 0.675l-2.98 2.956c-0.715 0.709-1.108 1.654-1.108 2.658 0 1.006 0.394 1.949 1.108 2.658 0.736 0.73 1.702 1.096 2.669 1.096s1.934-0.365 2.669-1.096l0.811-0.805c0.389-0.385 0.391-1.012 0.005-1.4s-1.014-0.39-1.403-0.006zM16.891 3.207c-1.547-1.534-3.709-1.617-5.139-0.197l-1.009 1.002c-0.389 0.386-0.392 1.013-0.006 1.401 0.386 0.389 1.013 0.391 1.402 0.005l1.010-1.001c0.74-0.736 1.711-0.431 2.346 0.197 0.336 0.335 0.522 0.779 0.522 1.252s-0.186 0.917-0.522 1.251l-3.18 3.154c-1.454 1.441-2.136 0.766-2.427 0.477-0.389-0.386-1.016-0.383-1.401 0.005s-0.384 1.017 0.005 1.401c0.668 0.662 1.43 0.99 2.228 0.99 0.977 0 2.010-0.492 2.993-1.467l3.18-3.153c0.712-0.71 1.107-1.654 1.107-2.658s-0.395-1.949-1.109-2.659z'
  },
  'location': {
    id: 'icon-location',
    html: '<svg class="icon icon-location"><use xlink:href="#icon-location"></use></svg>',
    viewBox: '0 0 20 20',
    path: 'M10 0.4c-5.303 0-9.601 4.298-9.601 9.6 0 5.303 4.298 9.601 9.601 9.601 5.301 0 9.6-4.298 9.6-9.601s-4.299-9.6-9.6-9.6zM11 17.525v-4.525h-2v4.525c-3.396-0.446-6.080-3.129-6.527-6.525h4.527v-2h-4.527c0.447-3.396 3.131-6.079 6.527-6.525v4.525h2v-4.525c3.394 0.447 6.078 3.13 6.525 6.525h-4.525v2h4.525c-0.447 3.394-3.131 6.078-6.525 6.525z'
  },
  'map': {
    id: 'icon-map',
    html: '<svg class="icon icon-map"><use xlink:href="#icon-map"></use></svg>',
    viewBox: '0 0 24 24',
    path: 'M12 3c-4.971 0-9 4.029-9 9s4.029 9 9 9c0.608 0 1.202-0.061 1.777-0.176-0.232-0.111-0.257-0.942-0.028-1.415 0.255-0.527 1.055-1.863 0.264-2.312s-0.571-0.65-1.055-1.169-0.286-0.597-0.316-0.729c-0.105-0.457 0.466-1.143 0.492-1.213s0.026-0.334 0.018-0.413-0.36-0.29-0.448-0.299-0.132 0.141-0.255 0.149-0.659-0.325-0.773-0.413-0.167-0.299-0.325-0.457-0.176-0.035-0.422-0.132-1.037-0.387-1.644-0.633-0.659-0.591-0.668-0.835-0.369-0.598-0.538-0.853c-0.169-0.255-0.2-0.606-0.262-0.527s0.316 1.002 0.255 1.028-0.193-0.255-0.369-0.483 0.185-0.105-0.378-1.213 0.176-1.672 0.211-2.25 0.475 0.211 0.246-0.158 0.018-1.143-0.158-1.424-1.178 0.316-1.178 0.316c0.026-0.272 0.879-0.738 1.494-1.169s0.991-0.097 1.485 0.062 0.527 0.105 0.36-0.053 0.070-0.237 0.457-0.176 0.492 0.527 1.081 0.483 0.062 0.114 0.141 0.264-0.088 0.132-0.475 0.396 0.009 0.264 0.694 0.765 0.475-0.334 0.404-0.703 0.501-0.079 0.501-0.079c0.422 0.281 0.344 0.015 0.652 0.112s1.141 0.802 1.141 0.802c-1.046 0.571-0.387 0.633-0.211 0.765s-0.36 0.387-0.36 0.387c-0.22-0.22-0.255 0.009-0.396 0.088s-0.009 0.281-0.009 0.281c-0.727 0.114-0.563 0.879-0.554 1.063s-0.466 0.466-0.589 0.729 0.316 0.835 0.088 0.87-0.457-0.861-1.688-0.527c-0.371 0.101-1.195 0.527-0.756 1.397s1.169-0.246 1.415-0.123-0.070 0.677-0.018 0.686 0.694 0.024 0.729 0.773 0.976 0.686 1.178 0.703 0.879-0.554 0.976-0.58 0.483-0.352 1.327 0.132 1.274 0.413 1.564 0.615 0.088 0.606 0.36 0.738 1.362-0.044 1.635 0.404-1.125 2.698-1.564 2.944-0.642 0.809-1.081 1.169-1.055 0.806-1.635 1.151c-0.513 0.305-0.606 0.852-0.835 1.025 4.028-0.895 7.040-4.488 7.040-8.786 0-4.971-4.029-9-9-9zM14.109 11.446c-0.123 0.035-0.378 0.264-1.002-0.105s-1.055-0.299-1.107-0.36c0 0-0.053-0.149 0.22-0.176 0.559-0.054 1.266 0.519 1.424 0.527s0.237-0.158 0.519-0.068c0.281 0.091 0.070 0.147-0.053 0.182zM11.165 3.896c-0.061-0.045 0.051-0.096 0.118-0.185 0.039-0.051 0.010-0.136 0.058-0.185 0.132-0.132 0.782-0.316 0.655 0.044s-0.734 0.396-0.831 0.325zM12.738 5.039c-0.22-0.009-0.737-0.063-0.642-0.158 0.371-0.369-0.141-0.475-0.457-0.501s-0.448-0.202-0.29-0.22 0.791 0.009 0.896 0.097 0.677 0.316 0.712 0.483 0 0.308-0.22 0.299zM14.646 4.978c-0.176 0.141-1.060-0.505-1.23-0.65-0.738-0.633-1.134-0.422-1.289-0.527s-0.1-0.246 0.137-0.457 0.905 0.070 1.292 0.114 0.835 0.343 0.844 0.698c0.009 0.355 0.422 0.682 0.246 0.823z'
  },
  'participate': {
    id: 'icon-participate',
    html: '<svg class="icon icon-participate"><use xlink:href="#icon-participate"></use></svg>',
    viewBox: '0 0 24 24',
    path: 'M18.984 12.984h-6v6h-1.969v-6h-6v-1.969h6v-6h1.969v6h6v1.969z'
  },
  'pencil': {
    id: 'icon-pencil',
    html: '<svg class="icon icon-pencil"><use xlink:href="#icon-pencil"></use></svg>',
    viewBox: '0 0 28 32',
    path: 'M22 2l-4 4 6 6 4-4-6-6zM0 24l0.021 6.018 5.979-0.018 16-16-6-6-16 16zM6 28h-4v-4h2v2h2v2z'
  },
  'people': {
    id: 'icon-people',
    html: '<svg class="icon icon-people"><use xlink:href="#icon-people"></use></svg>',
    viewBox: '0 0 24 24',
    path: 'M15.984 12.984q1.313 0 2.859 0.375t2.859 1.219 1.313 1.922v2.484h-6v-2.484q0-2.063-1.969-3.469 0.328-0.047 0.938-0.047zM8.016 12.984q1.313 0 2.859 0.375t2.836 1.219 1.289 1.922v2.484h-14.016v-2.484q0-1.078 1.313-1.922t2.859-1.219 2.859-0.375zM8.016 11.016q-1.219 0-2.109-0.891t-0.891-2.109 0.891-2.109 2.109-0.891 2.086 0.891 0.867 2.109-0.867 2.109-2.086 0.891zM15.984 11.016q-1.219 0-2.109-0.891t-0.891-2.109 0.891-2.109 2.109-0.891 2.109 0.891 0.891 2.109-0.891 2.109-2.109 0.891z'
  },
  'person': {
    id: 'icon-person',
    html: '<svg class="icon icon-person"><use xlink:href="#icon-person"></use></svg>',
    viewBox: '0 0 24 24',
    path: 'M12 14.016q2.531 0 5.273 1.102t2.742 2.883v2.016h-16.031v-2.016q0-1.781 2.742-2.883t5.273-1.102zM12 12q-1.641 0-2.813-1.172t-1.172-2.813 1.172-2.836 2.813-1.195 2.813 1.195 1.172 2.836-1.172 2.813-2.813 1.172z'
  },
  'rotate-left': {
    id: 'icon-rotate-left',
    html: '<svg class="icon icon-rotate-left"><use xlink:href="#icon-rotate-left"></use></svg>',
    viewBox: '0 0 24 24',
    path: 'M12.984 4.078q2.953 0.375 4.992 2.625t2.039 5.297-2.039 5.297-4.992 2.625v-2.016q2.156-0.375 3.586-2.039t1.43-3.867-1.43-3.867-3.586-2.039v3.891l-4.547-4.453 4.547-4.547v3.094zM7.078 18.328l1.453-1.453q1.078 0.797 2.484 1.031v2.016q-2.25-0.281-3.938-1.594zM6.094 12.984q0.234 1.359 0.984 2.484l-1.406 1.406q-1.313-1.734-1.594-3.891h2.016zM7.125 8.531q-0.844 1.219-1.031 2.484h-2.016q0.281-2.109 1.641-3.891z'
  },
  'rotate-right': {
    id: 'icon-rotate-right',
    html: '<svg class="icon icon-rotate-right"><use xlink:href="#icon-rotate-right"></use></svg>',
    viewBox: '0 0 24 24',
    path: 'M16.875 15.469q0.797-1.078 1.031-2.484h2.016q-0.281 2.156-1.594 3.891zM12.984 17.906q1.406-0.234 2.484-1.031l1.453 1.453q-1.688 1.313-3.938 1.594v-2.016zM19.922 11.016h-2.016q-0.234-1.406-1.031-2.484l1.453-1.406q1.313 1.734 1.594 3.891zM15.563 5.531l-4.547 4.453v-3.891q-2.156 0.375-3.586 2.039t-1.43 3.867 1.43 3.867 3.586 2.039v2.016q-2.953-0.375-4.992-2.625t-2.039-5.297 2.039-5.297 4.992-2.625v-3.094z'
  },
  'save': {
    id: 'icon-save',
    html: '<svg class="icon icon-save"><use xlink:href="#icon-save"></use></svg>',
    viewBox: '0 0 24 24',
    path: 'M15 9v-3.984h-9.984v3.984h9.984zM12 18.984q1.219 0 2.109-0.891t0.891-2.109-0.891-2.109-2.109-0.891-2.109 0.891-0.891 2.109 0.891 2.109 2.109 0.891zM17.016 3l3.984 3.984v12q0 0.797-0.609 1.406t-1.406 0.609h-13.969q-0.844 0-1.43-0.609t-0.586-1.406v-13.969q0-0.797 0.586-1.406t1.43-0.609h12z'
  },
  'twitter': {
    id: 'icon-twitter',
    html: '<svg class="icon icon-twitter"><use xlink:href="#icon-twitter"></use></svg>',
    viewBox: '0 0 24 24',
    path: 'M18.89 7.012c0.808-0.496 1.343-1.173 1.605-2.034-0.786 0.417-1.569 0.703-2.351 0.861-0.703-0.756-1.593-1.14-2.66-1.14-1.043 0-1.924 0.366-2.643 1.078-0.715 0.717-1.076 1.588-1.076 2.605 0 0.309 0.039 0.585 0.117 0.819-3.076-0.105-5.622-1.381-7.628-3.837-0.34 0.601-0.51 1.213-0.51 1.846 0 1.301 0.549 2.332 1.645 3.089-0.625-0.053-1.176-0.211-1.645-0.47 0 0.929 0.273 1.705 0.82 2.388 0.549 0.676 1.254 1.107 2.115 1.291-0.312 0.080-0.641 0.118-0.979 0.118-0.312 0-0.533-0.026-0.664-0.083 0.23 0.757 0.664 1.371 1.291 1.841 0.625 0.472 1.344 0.721 2.152 0.743-1.332 1.045-2.855 1.562-4.578 1.562-0.422 0-0.721-0.006-0.902-0.038 1.697 1.102 3.586 1.649 5.676 1.649 2.139 0 4.029-0.542 5.674-1.626 1.645-1.078 2.859-2.408 3.639-3.974 0.784-1.564 1.172-3.192 1.172-4.892v-0.468c0.758-0.57 1.371-1.212 1.84-1.921-0.68 0.293-1.383 0.492-2.11 0.593z'
  },
  'zoom-in': {
    id: 'icon-zoom-in',
    html: '<svg class="icon icon-zoom-in"><use xlink:href="#icon-zoom-in"></use></svg>',
    viewBox: '0 0 20 20',
    path: 'M8.333 0.833q1.523 0 2.913 0.596t2.393 1.598 1.598 2.393 0.596 2.913q0 1.309-0.426 2.507t-1.214 2.174l4.733 4.727q0.241 0.241 0.241 0.592 0 0.358-0.238 0.596t-0.596 0.238q-0.352 0-0.592-0.241l-4.727-4.733q-0.977 0.788-2.174 1.214t-2.507 0.426q-1.523 0-2.913-0.596t-2.393-1.598-1.598-2.393-0.596-2.913 0.596-2.913 1.598-2.393 2.393-1.598 2.913-0.596zM8.333 2.5q-1.185 0-2.266 0.462t-1.862 1.243-1.243 1.862-0.462 2.266 0.462 2.266 1.243 1.862 1.862 1.243 2.266 0.462 2.266-0.462 1.862-1.243 1.243-1.862 0.462-2.266-0.462-2.266-1.243-1.862-1.862-1.243-2.266-0.462zM8.333 5q0.345 0 0.589 0.244t0.244 0.589v1.667h1.667q0.345 0 0.589 0.244t0.244 0.589-0.244 0.589-0.589 0.244h-1.667v1.667q0 0.345-0.244 0.589t-0.589 0.244-0.589-0.244-0.244-0.589v-1.667h-1.667q-0.345 0-0.589-0.244t-0.244-0.589 0.244-0.589 0.589-0.244h1.667v-1.667q0-0.345 0.244-0.589t0.589-0.244z'
  },
  'zoom-out': {
    id: 'icon-zoom-out',
    html: '<svg class="icon icon-zoom-out"><use xlink:href="#icon-zoom-out"></use></svg>',
    viewBox: '0 0 20 20',
    path: 'M8.333 0.833q1.523 0 2.913 0.596t2.393 1.598 1.598 2.393 0.596 2.913q0 1.309-0.426 2.507t-1.214 2.174l4.733 4.727q0.241 0.241 0.241 0.592 0 0.358-0.238 0.596t-0.596 0.238q-0.352 0-0.592-0.241l-4.727-4.733q-0.977 0.788-2.174 1.214t-2.507 0.426q-1.523 0-2.913-0.596t-2.393-1.598-1.598-2.393-0.596-2.913 0.596-2.913 1.598-2.393 2.393-1.598 2.913-0.596zM8.333 2.5q-1.185 0-2.266 0.462t-1.862 1.243-1.243 1.862-0.462 2.266 0.462 2.266 1.243 1.862 1.862 1.243 2.266 0.462 2.266-0.462 1.862-1.243 1.243-1.862 0.462-2.266-0.462-2.266-1.243-1.862-1.862-1.243-2.266-0.462zM5.833 7.5h5q0.345 0 0.589 0.244t0.244 0.589-0.244 0.589-0.589 0.244h-5q-0.345 0-0.589-0.244t-0.244-0.589 0.244-0.589 0.589-0.244z'
  }
};

// Alias List
_icons.bitly = _icons.link;
_icons.edit = _icons.pencil;
_icons.globe = _icons.map;
_icons.selected = _icons['circled-check'];

const _loadSymbol = function loadSymbol(iconObj) {
  if ($('#' + SVG_WRAPPER_ID).length === 0) {
    $('body').append('<svg id="' + SVG_WRAPPER_ID + '" style="position: absolute; width: 0; height: 0;" width="0" height="0" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs></defs></svg>');
  }

  if ($('#' + iconObj.id).length === 0) {
    const svgNS = 'http://www.w3.org/2000/svg';
    const path = document.createElementNS(svgNS,'path');

    const symbol = document.createElementNS(svgNS,'symbol');

    path.setAttribute('class', 'path1');
    path.setAttribute('d', iconObj.path);
    symbol.setAttribute('id', iconObj.id);
    symbol.setAttribute('viewBox', iconObj.viewBox);

    symbol.appendChild(path);
    document.getElementById(SVG_WRAPPER_ID).getElementsByTagName('defs')[0].appendChild(symbol);
  }
};

export const getIcon = function getIcon(icon) {

  const iconObj = _icons[icon];

  if (iconObj) {
    _loadSymbol(iconObj);

    return iconObj.html;
  } else {
    _onError('"icon-' + icon + '" is not available');
    return;
  }

};

export default getIcon;
